# 08. MCP Memory Integration - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–∞–º—è—Ç–∏

> **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ 1C —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Model Context Protocol**

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –ø–∞–º—è—Ç—å
- **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ü–†–ò–ù–¶–ò–ü:** –ö–∞–∂–¥–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç—å –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π
- **–¶–ï–õ–¨:** –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏

### 2. –¢–∏–ø—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

#### –û–±—ä–µ–∫—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 1–°
```json
{
  "type": "1c_objects",
  "content": "–°–æ–∑–¥–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ —Å —Ç–∞–±–ª–∏—á–Ω–æ–π —á–∞—Å—Ç—å—é –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏",
  "metadata": {
    "object_type": "–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫",
    "object_name": "–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞",
    "changes": ["—Ç–∞–±–ª–∏—á–Ω–∞—è_—á–∞—Å—Ç—å", "—Ñ–æ—Ä–º–∞_—ç–ª–µ–º–µ–Ω—Ç–∞"]
  }
}
```

#### –ö–æ–¥ –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ
```json
{
  "type": "bsl_code", 
  "content": "–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ü—Ä–∏–ó–∞–ø–∏—Å–∏() –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤",
  "metadata": {
    "module_type": "–û–±—ä–µ–∫—Ç–Ω—ã–π–ú–æ–¥—É–ª—å",
    "procedure_name": "–ü—Ä–∏–ó–∞–ø–∏—Å–∏",
    "validation_rules": true
  }
}
```

#### –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```json
{
  "type": "scenarios",
  "content": "–ü—Ä–æ—Ü–µ—Å—Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–∏–µ–º–∫–∏ –∫–æ–¥–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ü–µ–Ω–∞—Ä–∏—é 04.41",
  "metadata": {
    "scenario_number": "04.41",
    "process_type": "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è_–ø—Ä–∏–µ–º–∫–∞"
  }
}
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–≤–µ—Ç–µ
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:
store_1c_memory {
  "type": "patterns",
  "content": "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞",
  "session_id": "current_session",
  "project_context": "current_project"
}
```

#### –ü—Ä–∏ –ø–æ–∏—Å–∫–µ —Ä–µ—à–µ–Ω–∏–π
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:
search_1c_memory {
  "query": "–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø–∏—Å—å –¥–æ–∫—É–º–µ–Ω—Ç",
  "type": "patterns",
  "limit": 5
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ Cursor

### 1. –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ—Ç–≤–µ—Ç–∞

**–ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è:**

5. **üß† –ö–û–ù–¢–ï–ö–°–¢ –ò–ó –ü–ê–ú–Ø–¢–ò:** –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–µ—Å—Å–∏–π
6. **üíæ –°–û–•–†–ê–ù–ï–ù–ò–ï:** –ù–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç—å

### 2. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ–∫-–ª–∏—Å—Ç–∞ –∫–∞—á–µ—Å—Ç–≤–∞

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É–Ω–∫—Ç—ã:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø–∞–º—è—Ç–∏ MCP
- ‚úÖ –ù–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ø–∞–º—è—Ç—å
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ—à–µ–Ω–∏–π

### 3. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –∏–µ—Ä–∞—Ä—Ö–∏—è (–°–¢–†–û–ì–û –ø–æ —É–±—ã–≤–∞–Ω–∏—é):**

1. **–ü–ï–†–í–´–ô –ü–†–ò–û–†–ò–¢–ï–¢:** –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (77+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
2. **–í–¢–û–†–û–ô –ü–†–ò–û–†–ò–¢–ï–¢:** –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è 1–° (39 –≥–ª–∞–≤)  
3. **–¢–†–ï–¢–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢:** –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø–∞–º—è—Ç–∏ MCP (–Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è)
4. **–ß–ï–¢–í–ï–†–¢–´–ô –ü–†–ò–û–†–ò–¢–ï–¢:** –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–∏—Å–∫

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–≤–µ—Ç–µ
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
await store_memory({
    "type": determine_content_type(response),
    "content": extract_key_information(response),
    "session_id": current_session_id,
    "project_context": detect_project_context()
})
```

### 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –Ω–∞—á–∞–ª–µ
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã
context = await get_1c_context({
    "session_id": previous_session_id,
    "project_context": current_project
})
```

### 3. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
```python
# –ü—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ–º –ø–æ—Ö–æ–∂–∏–µ —Ä–µ—à–µ–Ω–∏—è
similar_solutions = await search_1c_memory({
    "query": extract_keywords(user_question),
    "type": detect_question_type(user_question),
    "limit": 3
})
```

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –¥–ª—è 1C

### 1. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ 1–°
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫–æ–¥–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞
- –°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### 2. –ü—Ä–æ–µ–∫—Ç–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
- –£–¢ (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–µ–π)
- –ï–†–ü (–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è)  
- –ë–ü (–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è)
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–°–ü
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥—Å–∏—Å—Ç–µ–º
- –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π –æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–≤—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MCP —Å–µ—Ä–≤–µ—Ä–∞

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Claude Desktop
```json
{
  "mcpServers": {
    "1c-memory": {
      "command": "python",
      "args": ["/path/to/1c-framework/mcp-integration/server/mcp_1c_server.py"],
      "env": {
        "DATABASE_PATH": "/path/to/1c-framework/mcp-integration/memory/1c_memory.db"
      }
    }
  }
}
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫
- MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ 1C
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–∞–º—è—Ç–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é

### 1. –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π
- **–ö–ê–ñ–î–û–ï** –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –æ–±–æ–≥–∞—â–∞–µ—Ç –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
- **–ù–ï –î–£–ë–õ–ò–†–£–ï–ú** —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- **–°–í–Ø–ó–´–í–ê–ï–ú** –Ω–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π

### 2. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å  
- –ü–∞–º—è—Ç—å —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–¥–∞–µ—Ç—Å—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º
- –°—Ç–∞—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è –Ω–µ –∑–∞–±—ã–≤–∞—é—Ç—Å—è, –Ω–æ –∏–º–µ—é—Ç –º–µ–Ω—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

### 3. –ö–∞—á–µ—Å—Ç–≤–æ –ø–∞–º—è—Ç–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –û—à–∏–±–æ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø–æ–º–µ—á–∞—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ
- –ü–∞–º—è—Ç—å —Å–∞–º–æ–æ—á–∏—â–∞–µ—Ç—Å—è –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

---

**‚ö° –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø:** MCP –ø–∞–º—è—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –æ–±—ã—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã —Å Claude Code.