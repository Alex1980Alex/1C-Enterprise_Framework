# –£–ª—É—á—à–µ–Ω–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞ 1c-framework-docs

## –î–∞—Ç–∞: 2025-10-28

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ SQL –≤ hybrid_search_engine.py

**–§–∞–π–ª:** `scripts/docs-mcp/hybrid_search_engine.py`

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ –≤ –º–µ—Ç–æ–¥–µ `_fulltext_search()` - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å FTS5
```python
# –ë—ã–ª–æ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
SELECT d.*, bm25(f) as score
FROM documents_fts f
WHERE f MATCH ?

# –°—Ç–∞–ª–æ (–ü–†–ê–í–ò–õ–¨–ù–û):
SELECT d.*, bm25(documents_fts) as score
FROM documents_fts
JOIN documents d ON documents_fts.rowid = d.rowid
WHERE documents_fts MATCH ?
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–¥—É–ª—å `logging` —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –î–æ–±–∞–≤–ª–µ–Ω—ã DEBUG/INFO/WARNING/ERROR –ª–æ–≥–∏ –≤–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã:
  - `__init__()` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î –∏ –º–æ–¥–µ–ª–∏
  - `_fulltext_search()` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - `_semantic_search()` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
  - `_hybrid_search()` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 3. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- Try-catch –±–ª–æ–∫–∏ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- `sqlite3.Error` –¥–ª—è SQL –æ—à–∏–±–æ–∫
- Graceful degradation - –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- Fallback –Ω–∞ fulltext –ø—Ä–∏ —Å–±–æ–µ hybrid –ø–æ–∏—Å–∫–∞
- –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### 4. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–§–∞–π–ª—ã:**
- `scripts/docs-mcp/IMPROVEMENTS.md` - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π
- `scripts/docs-mcp/README.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üóÇÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ 1C

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (3 —Å–µ—Ä–≤–µ—Ä–∞):

1. **1c-enterprise-database**
   - –ü—É—Ç—å: `D:/1C-Enterprise_Framework/mcp-1c-integration/`
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –†–∞–±–æ—Ç–∞ —Å –ë–î 1–° (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∑–∞–ø—Ä–æ—Å—ã)
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: `list_metadata_objects`, `get_metadata_structure`

2. **1c-framework-docs** ‚≠ê (—É–ª—É—á—à–µ–Ω)
   - –ü—É—Ç—å: `D:/1C-Enterprise_Framework/scripts/docs-mcp/`
   - –°–∫—Ä–∏–ø—Ç: `start-mcp-server.bat`
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `D:/1C-Enterprise_Framework/docs/`
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: `search_docs`, `get_document`, `reindex_docs`, `get_stats`
   - –¢–∏–ø—ã –ø–æ–∏—Å–∫–∞: fulltext, semantic, hybrid

3. **1c-dev-standards**
   - –ü—É—Ç—å: `D:/1C-Enterprise_Framework/scripts/docs-mcp/`
   - –°–∫—Ä–∏–ø—Ç: `start-dev-docs-server.bat`
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `D:/1C-Enterprise_Framework/–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞/`
   - –¢–æ—Ç –∂–µ `mcp_server.py`, –Ω–æ –¥—Ä—É–≥–∞—è –ø–∞–ø–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –£–¥–∞–ª–µ–Ω–æ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

‚ùå **1c-docs** - —É–ø–∞–≤—à–∏–π —Å–µ—Ä–≤–µ—Ä
- –ë—ã–ª –≤ –∫—ç—à–µ `claude mcp list`
- –°—Å—ã–ª–∞–ª—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `scripts/mcp-integration/1c-docs-mcp-server.js`
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω—ã –∏–∑ `.claude/settings.local.json` (—Å—Ç—Ä–æ–∫–∏ 301-302)

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
scripts/docs-mcp/
‚îú‚îÄ‚îÄ hybrid_search_engine.py  ‚úèÔ∏è –ò–ó–ú–ï–ù–ï–ù
‚îÇ   ‚îú‚îÄ‚îÄ __init__() - –¥–æ–±–∞–≤–ª–µ–Ω logger
‚îÇ   ‚îú‚îÄ‚îÄ _fulltext_search() - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω SQL + –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ _semantic_search() - —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ _hybrid_search() - –¥–æ–±–∞–≤–ª–µ–Ω fallback
‚îú‚îÄ‚îÄ IMPROVEMENTS.md          ‚ú® –°–û–ó–î–ê–ù
‚îî‚îÄ‚îÄ README.md               ‚ú® –°–û–ó–î–ê–ù

.claude/
‚îî‚îÄ‚îÄ settings.local.json     ‚úèÔ∏è –ò–ó–ú–ï–ù–ï–ù (—É–¥–∞–ª–µ–Ω—ã mcp__1c-docs__*)
```

## üîÑ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Claude Code

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–æ–≤:
```bash
claude mcp list
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì 1c-enterprise-database
‚úì 1c-framework-docs      (—Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏!)
‚úì 1c-dev-standards
‚úó 1c-docs               (–¥–æ–ª–∂–µ–Ω –∏—Å—á–µ–∑–Ω—É—Ç—å)
```

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫:

```python
# –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
mcp__1c-framework-docs__search_docs(
    query="MCP —Å–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∞",
    limit=3,
    search_type="fulltext"
)

# –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
mcp__1c-framework-docs__search_docs(
    query="–ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è hooks",
    limit=5,
    search_type="hybrid"
)

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
mcp__1c-framework-docs__get_stats()
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

–õ–æ–≥–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞:
- `[INFO]` - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `[DEBUG]` - –¥–µ—Ç–∞–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- `[ERROR]` - –æ—à–∏–±–∫–∏ —Å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ SQL –≤—Å—ë –µ—â–µ –µ—Å—Ç—å
**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –ë–î –∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å
```bash
del D:\1C-Enterprise_Framework\cache\docs-mcp\hybrid_search.db
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Claude Code
```

### –ü—Ä–æ–±–ª–µ–º–∞: 1c-docs –≤—Å—ë –µ—â–µ –≤ —Å–ø–∏—Å–∫–µ
**–†–µ—à–µ–Ω–∏–µ:** –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Claude
```bash
# –ó–∞–∫—Ä—ã—Ç—å Claude Code
# –£–¥–∞–ª–∏—Ç—å –∫—ç—à (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
del "C:\Users\AlexT\AppData\Roaming\Claude\*.log"
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Claude Code
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
**–†–µ—à–µ–Ω–∏–µ:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –±—ã—Å—Ç—Ä–µ–µ

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π: ~10-50ms
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π: ~100-500ms (–ø–µ—Ä–≤—ã–π –º–µ–¥–ª–µ–Ω–Ω–µ–µ)
- –ì–∏–±—Ä–∏–¥–Ω—ã–π: ~150-600ms

## üéì –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

| –î–æ | –ü–æ—Å–ª–µ |
|---|---|
| ‚ùå SQL –æ—à–∏–±–∫–∞ | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π FTS5 |
| ‚ùå –ù–µ—Ç –ª–æ–≥–æ–≤ | ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| ‚ùå –ü–∞–¥–µ–Ω–∏—è | ‚úÖ Graceful degradation |
| ‚ùå –ù–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | ‚úÖ README + IMPROVEMENTS |
| ‚ùå 4 —Å–µ—Ä–≤–µ—Ä–∞ (1 –ø–∞–¥–∞–µ—Ç) | ‚úÖ 3 —Ä–∞–±–æ—á–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞ |

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `scripts/docs-mcp/README.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `scripts/docs-mcp/IMPROVEMENTS.md` - —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `.claude/settings.local.json` - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–æ—á–∏—â–µ–Ω—ã –æ—Ç 1c-docs)

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Claude Code:**
1. –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ –æ–∫–Ω–∞
2. –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ! üéâ
