#!/bin/bash
# Post Tool Result Memory Save Hook
# –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ Memory MCP –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# –ü–æ–ª—É—á–∞–µ–º –∏–º—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)
TOOL_NAME="${CLAUDE_TOOL_NAME:-unknown}"

# –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–æ–∏—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
IMPORTANT_TOOLS=(
    "Read"
    "Grep"
    "Glob"
    "WebFetch"
    "WebSearch"
    "mcp__github__"
    "mcp__1c"
    "Task"
)

# –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∞–∂–Ω—ã–º
SHOULD_REMIND=false
for tool in "${IMPORTANT_TOOLS[@]}"; do
    if [[ "$TOOL_NAME" == *"$tool"* ]]; then
        SHOULD_REMIND=true
        break
    fi
done

# –í—ã–≤–æ–¥ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –≤–∞–∂–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
if [ "$SHOULD_REMIND" = true ]; then
    printf "${BLUE}üíæ –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ï—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω–∞ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ—ë –≤ Memory MCP${NC}\n" >&2
    printf "${YELLOW}   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ mcp__memory__create_entities –∏–ª–∏ mcp__memory__add_observations${NC}\n" >&2
fi

# –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —É—Å–ø–µ—Ö
exit 0
