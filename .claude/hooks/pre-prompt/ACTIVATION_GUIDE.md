# üöÄ Claude Code Hooks - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ:

```bash
# –•—É–∫
ls .claude/hooks/pre-prompt.hook.sh

# –°–∫—Ä–∏–ø—Ç—ã
ls scripts/infrastructure/

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# - start-docker-services.bat
# - stop-docker-services.bat
# - restart-docker-services.bat
# - check-all-services.bat
# - quick-status.bat
```

### 2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ö—É–∫–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è Linux/Mac)

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Linux –∏–ª–∏ Mac, –¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:

```bash
chmod +x .claude/hooks/pre-prompt.hook.sh
```

**–î–ª—è Windows:** –ü—Ä–∞–≤–∞ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ Git –¥–ª—è Windows –≤–∫–ª—é—á–∞–µ—Ç bash.

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Claude Code

**–í–ê–ñ–ù–û:** –•—É–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Claude Code.

```bash
# –ó–∞–∫—Ä–æ–π—Ç–µ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
exit

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é Claude Code
claude
```

### 4. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø—Ä–æ–º–ø—Ç–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üîß AI Memory System Infrastructure Check
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚úì Docker Desktop
‚úì Qdrant (port 6333)
‚úì Neo4j (port 7474)
‚úì Ollama (port 11434)
‚úì Memory AI MCP

Status: 5/5 services operational

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

```
‚úì Docker Desktop
‚úì Qdrant (port 6333)
‚úì Neo4j (port 7474)
‚úì Ollama (port 11434)
‚úì Memory AI MCP

Status: 5/5 services operational
```

**–î–µ–π—Å—Ç–≤–∏–µ:** –ù–∏—á–µ–≥–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –†–∞–±–æ—Ç–∞–π—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ!

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω ‚ö†Ô∏è

```
‚úó Docker Desktop
‚úó Qdrant (port 6333)
‚úó Neo4j (port 7474)
‚úì Ollama (port 11434)
‚úì Memory AI MCP

Status: 2/5 services operational

‚ö† Docker is not running

Would you like to start Docker services? (y/n)
```

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**

**A. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```
y [Enter]
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–ø—É—Å—Ç–∏—Ç Docker Desktop
2. –ü–æ–¥–æ–∂–¥–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (30 —Å–µ–∫)
3. –ó–∞–ø—É—Å—Ç–∏—Ç docker-compose
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**B. –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å:**
```
n [Enter]
```

–í—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:
```
Note: Some AI Memory features will be limited without Docker:
  ‚Ä¢ Semantic search (Qdrant) - unavailable
  ‚Ä¢ Graph analytics (Neo4j) - unavailable
  ‚Ä¢ Only LLM services will work
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ß–∞—Å—Ç–∏—á–Ω—ã–π —Å–±–æ–π üî∂

```
‚úì Docker Desktop
‚úó Qdrant (port 6333)
‚úó Neo4j (port 7474)
‚úì Ollama (port 11434)
‚úì Memory AI MCP

Status: 3/5 services operational

‚ö† Some Docker services are not responding

Try running: scripts/infrastructure/start-docker-services.bat
```

**–î–µ–π—Å—Ç–≤–∏–µ:**
```bash
scripts\infrastructure\restart-docker-services.bat
```

---

## –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
scripts\infrastructure\start-docker-services.bat
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker Desktop
2. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ Docker –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
4. –ó–∞–ø—É—Å–∫ docker-compose
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

**–í—Ä–µ–º—è:** ~40-60 —Å–µ–∫—É–Ω–¥

---

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
scripts\infrastructure\stop-docker-services.bat
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü–µ—Ä–µ–¥ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
- –î–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- –ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º Docker

---

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
scripts\infrastructure\restart-docker-services.bat
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ü—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ (–¥–µ—Ç–∞–ª—å–Ω–∞—è)

```bash
scripts\infrastructure\check-all-services.bat
```

**–í—ã–≤–æ–¥:**
```
========================================
AI Memory System - Health Check
========================================

[1/6] Docker Desktop...
[OK] Docker is available

[2/6] Qdrant Vector DB (port 6333)...
[OK] Qdrant is responding

[3/6] Neo4j Graph DB (port 7474)...
[OK] Neo4j is responding

[4/6] Ollama LLM Server (port 11434)...
[OK] Ollama is responding

[5/6] TimescaleDB (port 5432)...
[OK] TimescaleDB port is open

[6/6] Memory AI MCP Server...
[OK] Memory AI MCP is connected

========================================
Health Check Summary
========================================
Total services checked: 6
Services OK: 6
Services FAILED: 0

System Ready: 100%

[SUCCESS] All systems operational!
```

---

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
scripts\infrastructure\quick-status.bat
```

**–í—ã–≤–æ–¥:**
```
Checking services...
1c-qdrant: Up 5 minutes
1c-neo4j: Up 5 minutes
1c-timescaledb: Up 5 minutes
Docker: OK
Ollama: OK
Memory AI MCP: CONNECTED
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—É–∫–æ–≤

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ö—É–∫**
```bash
mv .claude/hooks/pre-prompt.hook.sh .claude/hooks/pre-prompt.hook.sh.disabled
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –£–¥–∞–ª–∏—Ç—å —Ö—É–∫**
```bash
rm .claude/hooks/pre-prompt.hook.sh
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å —Ñ–ª–∞–≥ "—É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ"**
```bash
touch /tmp/claude-code-infrastructure-checked
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.claude/hooks/pre-prompt.hook.sh`:

```bash
# –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 1 —á–∞—Å (3600 —Å–µ–∫—É–Ω–¥)
(sleep 3600 && rm -f "$STATUS_FILE") &

# –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 30 –º–∏–Ω—É—Ç:
(sleep 1800 && rm -f "$STATUS_FILE") &

# –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 2 —á–∞—Å–∞:
(sleep 7200 && rm -f "$STATUS_FILE") &
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.claude/hooks/pre-prompt.hook.sh`, –Ω–∞–π–¥–∏—Ç–µ:

```bash
if [ $DOCKER_OK -eq 0 ]; then
    echo -e "${YELLOW}‚ö†${NC} Docker is not running"
    echo ""
    echo "Would you like to start Docker services? (y/n)"
    read -r -n 1 -t 10 response
    # ...
fi
```

**–í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –±–µ–∑ –≤–æ–ø—Ä–æ—Å–∞**
```bash
if [ $DOCKER_OK -eq 0 ]; then
    echo "Starting Docker services automatically..."
    cmd.exe /c "D:\1C-Enterprise_Framework\scripts\infrastructure\start-docker-services.bat"
fi
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –¢–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ**
```bash
if [ $DOCKER_OK -eq 0 ]; then
    echo -e "${YELLOW}‚ö†${NC} Docker is not running"
    echo "Run: scripts/infrastructure/start-docker-services.bat"
fi
```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –•—É–∫ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ (Linux/Mac):**
   ```bash
   chmod +x .claude/hooks/pre-prompt.hook.sh
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ bash:**
   ```bash
   which bash
   # –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –ø—É—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: /usr/bin/bash
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**
   ```bash
   bash -n .claude/hooks/pre-prompt.hook.sh
   # –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∞:**
   ```bash
   bash .claude/hooks/pre-prompt.hook.sh
   ```

---

### –ü—Ä–æ–±–ª–µ–º–∞: Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ Docker Desktop:**

   –û—Ç–∫—Ä–æ–π—Ç–µ `scripts\infrastructure\start-docker-services.bat`, –Ω–∞–π–¥–∏—Ç–µ:
   ```batch
   if exist "C:\Program Files\Docker\Docker\Docker Desktop.exe"
   ```

   –ï—Å–ª–∏ —É –≤–∞—Å –¥—Ä—É–≥–æ–π –ø—É—Ç—å, –∏–∑–º–µ–Ω–∏—Ç–µ –µ–≥–æ.

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop –≤—Ä—É—á–Ω—É—é:**
   ```
   start "" "C:\Program Files\Docker\Docker\Docker Desktop.exe"
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**

   –ó–∞–ø—É—Å—Ç–∏—Ç–µ CMD –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç.

---

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–∏—Å—ã –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ–ª—å—à–µ:**

   –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–æ—Å–æ–±–µ–Ω–Ω–æ Neo4j) –º–æ–≥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –¥–æ 60 —Å–µ–∫—É–Ω–¥.

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   docker-compose -f ai-memory-system/docker/docker-compose.yml logs
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
   ```bash
   scripts\infrastructure\restart-docker-services.bat
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ docker-compose.yml:**
   ```bash
   cd ai-memory-system
   docker-compose -f docker/docker-compose.yml config
   ```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –§–ª–∞–≥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏—è:**

1. **–£–¥–∞–ª–∏—Ç–µ —Ñ–ª–∞–≥ –≤—Ä—É—á–Ω—É—é:**
   ```bash
   rm /tmp/claude-code-infrastructure-checked
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
   ```bash
   ps aux | grep sleep
   # –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–≤–∏—Å—à–∏–π –ø—Ä–æ—Ü–µ—Å—Å, —É–±–µ–π—Ç–µ –µ–≥–æ
   ```

---

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö —Ö—É–∫–æ–≤

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∏–ø—ã —Ö—É–∫–æ–≤:**

1. **pre-prompt** - –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –ø—Ä–æ–º–ø—Ç–æ–º
2. **post-prompt** - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
3. **session-start** - –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Å—Å–∏–∏
4. **session-end** - –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏
5. **tool-call** - –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

**–ü—Ä–∏–º–µ—Ä –Ω–æ–≤–æ–≥–æ —Ö—É–∫–∞:**

```bash
# .claude/hooks/session-start.hook.sh
#!/bin/bash

echo "üéâ Welcome to AI Memory System!"
echo "Session started at: $(date)"

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞
source .env
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

```yaml
# .github/workflows/test.yml
- name: Start infrastructure
  run: scripts/infrastructure/start-docker-services.bat

- name: Check health
  run: scripts/infrastructure/check-all-services.bat

- name: Run tests
  run: pytest tests/

- name: Stop infrastructure
  run: scripts/infrastructure/stop-docker-services.bat
```

---

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –í: –ë—É–¥–µ—Ç –ª–∏ —Ö—É–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏?

**–û:** –ù–µ—Ç, —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ —Å–µ—Å—Å–∏—é (–∏–ª–∏ —Ä–∞–∑ –≤ —á–∞—Å). –°–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ `/tmp/claude-code-infrastructure-checked`.

---

### –í: –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—Ä–æ—Å Docker?

**–û:** –î–∞, —Å–º. —Ä–∞–∑–¥–µ–ª "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—É–∫–æ–≤" ‚Üí "–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞".

---

### –í: –ö–∞–∫ —á–∞—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å?

**–û:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø—Ä–æ–º–ø—Ç–µ, –∑–∞—Ç–µ–º —Ä–∞–∑ –≤ —á–∞—Å. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.claude/hooks/pre-prompt.hook.sh`.

---

### –í: –í–ª–∏—è—é—Ç –ª–∏ —Ö—É–∫–∏ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å?

**–û:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 1-3 —Å–µ–∫—É–Ω–¥—ã –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–∞–∑ –∑–∞ —Å–µ—Å—Å–∏—é.

---

### –í: –ß—Ç–æ –µ—Å–ª–∏ —è —Ö–æ—á—É –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å?

**–û:** –£–¥–∞–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ñ–ª–∞–≥–∞ –≤ `pre-prompt.hook.sh`:
```bash
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ:
# touch "$STATUS_FILE"
# (sleep 3600 && rm -f "$STATUS_FILE") &
```

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–ü—Ä–æ–±–ª–µ–º—ã –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã?**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É: `scripts/infrastructure/check-all-services.bat`
3. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ README: `.claude/hooks/README.md`

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-11-04
**–ê–≤—Ç–æ—Ä:** Claude Code Assistant
