# Clipboard Image Command

Команда для чтения изображения из буфера обмена с автоматической очисткой

## Использование

```
/clipboard-image
```

## Описание

Полный цикл работы с изображениями из буфера обмена:
1. **Очистка старых файлов** - автоматически удаляет предыдущие временные изображения
2. **Получение изображения** - читает изображение из системного буфера обмена через MCP
3. **Сохранение во временный файл** - создаёт файл с уникальным именем
4. **Показ изображения** - отображает содержимое через Claude Code
5. **Копирование в проект** - перемещает файл в рабочую директорию для анализа

## Автоматическая очистка

Команда автоматически удаляет:
- Старые файлы `clipboard_image*.png` из временной папки
- Файлы `clipboard*.png` из текущей директории проекта
- Временные файлы MCP clipboard сервера

## Примеры

```bash
/clipboard-image
# 1. Скопируйте изображение (Print Screen, Ctrl+C в приложении)
# 2. Выполните команду
# 3. Изображение будет показано и проанализировано
# 4. Старые файлы автоматически удалятся
```

## Файлы

- `clipboard-image.py` - основной скрипт с функцией очистки
- `clipboard-image.bat` - Windows батник
- `.claude/commands/clipboard-image.md` - документация команды

## Зависимости

- MCP Clipboard Server (`mcp__clipboard__clipboard_get_image`)
- Python 3.x с поддержкой UTF-8 (`PYTHONIOENCODING=utf-8`)

## Техническая реализация

Команда выполняет следующую последовательность MCP операций:
1. `mcp__clipboard__clipboard_get_image` - получение изображения
2. Bash copy операция для перемещения в проект
3. `Read` операция для отображения изображения
4. Автоматическая очистка через `cleanup_old_clipboard_images()`