Приложение 2. Доступные параметры запуска приложения
Параметры запуска приложения, предоставляемые библиотекой:
1. ВойтиВОбластьДанных При работе в модели сервиса позволяет выполнить вход в указанную область данных информационной базы. Например: ВойтиВОбластьДанных; 3
2. ВыполнитьОтложенноеОбновлениеСейчас Для клиент-серверных баз. Позволяет выполнить отложенные обработчики до начала работы пользователей. Ключ не применим, если версия приложения уже обновлена и нужно выполнить только отложенные обработчики. Необходим для случаев, когда требуется быстро выполнить все процедуры отложенного обновления. Например, при обновлении «через несколько версий», когда прямое обновление на новую версию приложения недопустимо, и требуется несколько раз последовательно обновлять конфигурацию и выполнять запуски для обновления ИБ.
В режиме сервиса при запуске обновления области с данным параметром выполняются все обработчики вне зависимости от разделения по порядку (свойство Порядок отложенных параллельных обработчиков игнорируется), для того чтобы форсировать обновление конкретной области не дожидаясь готовности остальных областей.
3. ЗавершитьРаботуПользователей Запрещает подключение пользователей к приложению и завершает уже запущенные сеансы. После завершения всех сеансов предлагает завершить сеанс, запущенный с этим ключом (принудительного завершения нет). При этом устанавливается код доступа КодРазрешения , который можно использовать для установки соединения с заблокированной информационной базой (параметр запуска /UC ). Для клиент-серверной базы, если установлены параметры администрирования
кластера, то их необходимо передать, перечислив через запятую имя администратора кластера и пароль администратора кластера. Например, для администратора кластера Администратор и пароля 1: ЗавершитьРаботуПользователей;Администратор;1. Также доступны следующие
параметры завершения работы с приложением: Сообщение - текст сообщения, выдаваемого пользователям в качестве
предупреждения о планируемой блокировке соединений; КодРазрешения - произвольная строка для входа в приложение, несмотря на
установленную блокировку (для параметра запуска /UC); ОжиданиеМин - время отсрочки начала блокировки приложения, в минутах; ДлительностьМин - длительность блокировки приложения с учетом отсрочки, в
минутах. Например:
1cv8.exe" ENTERPRISE /F "<Путь к информационной базе>" /N "Администратор" /P /C
обновления, которые выполняются при любой смене версии (с версией «*»), а также обновляет вспомогательные данные. Может быть востребовано, например, при изменениях метаданных конфигурации без увеличения номера версии конфигурации. Сеанс, запущенный с этим ключом не будет завершен после выполнения обновления или в случае возникновения ошибки. Если нужно выполнить обновление в пакетном режиме, необходимо запустить сеанс с параметром запуска ОтключитьЛогикуНачалаРаботыСистемы и вызовом внешней обработки, которая будет
вызывать программный интерфейс ОбновлениеИнформационнойБазы.ВыполнитьОбновлениеИнформационнойБазы . При этом в
обработке можно реализовать перехват ошибок и завершение сеанса. 5. ОтключитьЛогикуНачалаРаботыСистемы Отключает все действия при запуске
приложения: сообщение о нерекомендуемой версии платформы, различные помощники, выполнение обновления информационной базы и т.д. При этом также блокируется открытие всех форм на начальной странице. Требуется право Администрирование . Рекомендуется:
для автоматического тестирования, для предварительного контроля данных информационной базы после реструктуризации, но до запуска обработчиков обновления. Любые действия в информационной базе в таком режиме могут привести к рассогласованию данных, которое невозможно автоматически исправить. При использовании этого параметра запуска на рабочих базах следует самостоятельно обеспечивать целостность данных.
6. ПараметрыЗапускаИзВнешнейОперации С помощью этого параметра можно передать дополнительные параметры командной строки во вновь запускаемый сеанс 1С:Предприятия после выполнения обновления конфигурации и резервного копирования информационной базы (при этих операциях текущий сеанс работы закрывается и затем перезапускается). Например, для подключения к сценарному тестированию запуск 1С:Предприятия с параметром ПараметрыЗапускаИзВнешнейОперации = /TestClient -TPort 48050 /C РежимОтладки
приведет к тому, что перезапущенный сеанс стартует с параметром /TestClient -TPort 48050 /C РежимОтладки
7. РазрешитьРаботуПользователей Разрешает работу пользователей в информационной базе. Сеанс, запущенный с этим ключом будет завершен после снятия блокировки работы пользователей.
8. РежимОтладки Упрощает отладку кода. В частности: все длительные операции выполняются сразу, без запуска фонового задания (кроме отдельных операций, которые всегда должны выполняться в фоновом задании, например, обновление параметров работы без учета подключенных расширений конфигурации); при разработке расширений конфигурации возможен запуск с установленными расширениями конфигурации, которые в данный момент открыты в конфигураторе (при условии, что версия конфигурации и версии расширений не менялись).
9. ФорсироватьОтложенноеОбновление Для клиент-серверных баз. Поднимает приоритет отложенной обработки данных на этот сеанс запуска (значение не сохраняется при
переключатель (раздел Администрирование – Обслуживание, группа Обновление программы). При этом, в отличие от параметра ВыполнитьОтложенноеОбновлениеСейчас , во время выполнения отложенных обработчиков обновления вход в приложение будет разрешен.
10. ЧислоПотоковОбновления Для клиент-серверных баз. Позволяет изменить количество параллельных потоков, выполняющих этап регистрации данных для отложенного обновления. Для оптимального и наиболее быстрого обновления рекомендуется устанавливать количество потоков, равное количеству ядер процессора на сервере. В случае ошибок конфликта блокировок значение нужно уменьшить. По умолчанию – 8.
% Приложение 3. Международная поставка без национальной специфики