# Правило работы с Git для ИИ-агента

## Обязательная структура веток

- **develop** - главная ветка проекта. НИКОГДА не работай в ней напрямую
- **issue[номер]** - рабочие ветки для каждой задачи (пример: issue1, issue2, issue3)

## Строгий порядок работы с задачами

### 1. НАЧАЛО работы над задачей

```bash
# ВСЕГДА выполняй эти команды в указанном порядке:
git checkout develop                    # переключись на develop
git pull origin develop                 # получи последние изменения
git checkout -b issue[номер]           # создай новую ветку для задачи
```

### 2. ПРОЦЕСС работы

```bash
# После КАЖДОГО логического изменения делай коммит:
git add .                              # добавь все изменения
git commit -m "[issue номер] Описание изменения"  # сделай коммит с понятным сообщением
```

**Правила коммитов:**
- Коммить после каждой завершенной функции/исправления
- Сообщение начинается с номера задачи: "[issue1] Добавил валидацию формы"
- Не накапливай много изменений в одном коммите

### 3. ЗАВЕРШЕНИЕ задачи

```bash
# ТОЛЬКО после полного завершения и тестирования:
git checkout develop                    # переключись на develop
git pull origin develop                 # получи последние изменения
git checkout issue[номер]              # вернись в свою ветку
git merge develop                      # синхронизируй с последними изменениями
# Реши конфликты, если они появились
git checkout develop                    # снова переключись на develop
git merge issue[номер]                 # влей свою работу
git push origin develop                # отправь изменения на сервер
```

### 4. ПЕРЕКЛЮЧЕНИЕ между задачами

```bash
# Если нужно срочно переключиться на другую задачу:
git add .                              # добавь текущие изменения
git stash                              # сохрани их во временное хранилище
git checkout issue[другой_номер]       # переключись на другую задачу

# Чтобы вернуться к отложенной работе:
git checkout issue[номер]              # вернись в нужную ветку
git stash pop                          # восстанови сохраненные изменения
```

## ЗАПРЕЩЕНО

❌ Работать напрямую в ветке `develop`  
❌ Делать `git push --force` без крайней необходимости  
❌ Сливать незавершенную работу в `develop`  
❌ Создавать ветки не от `develop`  
❌ Удалять ветки без разрешения  

## ОБЯЗАТЕЛЬНО

✅ Всегда создавай новую ветку для каждой задачи  
✅ Всегда обновляй `develop` перед созданием новой ветки  
✅ Всегда тестируй код перед слиянием в `develop`  
✅ Всегда пиши понятные сообщения коммитов  
✅ Всегда используй `git status` для проверки состояния перед важными операциями  
✅ Всегда синхронизируйся с `develop` ПЕРЕД слиянием своей работы  

## Проверочный чек-лист перед слиянием в develop

- [ ] Код работает без ошибок
- [ ] Все тесты проходят
- [ ] Синхронизировался с последней версией develop
- [ ] Решил все конфликты (если были)
- [ ] Все коммиты имеют понятные сообщения
- [ ] Задача полностью выполнена

**ВАЖНО:** Если возникла ошибка или сомнение - ОСТАНОВИСЬ и запроси помощь. Лучше спросить, чем сломать общий код.