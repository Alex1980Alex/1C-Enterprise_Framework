# Приоритетные подходы: Сообщения пользователю

## Правильный подход для сообщений пользователю в 1С

### ✅ ПРАВИЛЬНО: Использование НСтр + ОбщегоНазначения.СообщитьПользователю

```bsl
// Гкс+ Формирование локализованного сообщения с использованием БСП
ТекстСообщения = НСтр(
    "ru = 'Для автомобильной перевозки необходимо заполнить пункт погрузки или точку маршрута'");
ОбщегоНазначения.СообщитьПользователю(ТекстСообщения, , , , Истина);
```

### ❌ НЕПРАВИЛЬНО: Устаревшие подходы

```bsl
// НЕ ИСПОЛЬЗОВАТЬ - устаревший метод
Сообщить("Текст сообщения");

// НЕ ИСПОЛЬЗОВАТЬ - нарушение принципов локализации
ОбщегоНазначенияКлиент.СообщитьПользователю("Прямой текст");

// НЕ ИСПОЛЬЗОВАТЬ - неправильный модуль БСП для серверных процедур
ОбщегоНазначенияКлиентСервер.СообщитьПользователю(ТекстСообщения, , , , Отказ);
```

## Шаблон для использования

### Базовый шаблон
```bsl
ТекстСообщения = НСтр("ru = 'Текст сообщения для пользователя'");
ОбщегоНазначения.СообщитьПользователю(ТекстСообщения, , , , Истина);
```

### Расширенный шаблон с параметрами
```bsl
ТекстСообщения = НСтр("ru = 'Ошибка в поле ""%1"". Необходимо заполнить значение.'");
ТекстСообщения = СтрШаблон(ТекстСообщения, ИмяПоля);
ОбщегоНазначения.СообщитьПользователю(ТекстСообщения, , ПутьКДанным, ИмяПоля, Истина);
```

### Шаблон с подстановкой параметров через БСП
```bsl
ТекстОшибки = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(
    НСтр("ru = 'Для ТС: %1. %2'"), ТранспортноеСредство, ОбщаяЧастьСообщения);
ОбщегоНазначения.СообщитьПользователю(ТекстОшибки, , , , Истина);
```

### Шаблон с привязкой к элементу формы
```bsl
ТекстСообщения = НСтр("ru = 'Некорректное значение в поле'");
ОбщегоНазначения.СообщитьПользователю(
    ТекстСообщения, 
    , 
    "Объект.Реквизит", 
    "Реквизит", 
    Истина);
```

## Параметры функции ОбщегоНазначения.СообщитьПользователю

1. **ТекстСообщения** - текст сообщения (обязательный)
2. **КлючДанных** - ссылка на объект, с которым связано сообщение
3. **Поле** - путь к данным в формате "Объект.Реквизит"
4. **ПутьКДанным** - путь к элементу формы
5. **Отказ** - флаг отказа (Истина для ошибок валидации)

## Способы подстановки параметров

### 1. СтрШаблон (для простых случаев)
- Быстрый способ для 1-2 параметров
- Использует %1, %2 как заполнители

### 2. СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку (рекомендуется)
- Стандартная функция БСП для подстановки параметров
- Поддерживает множественные параметры
- Корректно обрабатывает типы данных
- Используется в корпоративных стандартах

## Преимущества правильного подхода

✅ **Локализация** - поддержка НСтр для многоязычности  
✅ **Стандартизация** - использование БСП  
✅ **Привязка к полям** - возможность указать проблемное поле  
✅ **Единообразие** - соответствие корпоративным стандартам  
✅ **Совместимость** - работа в любой конфигурации на БСП  
✅ **Гибкость** - различные способы подстановки параметров

## Область применения

- Валидация данных в формах
- Проверки при записи объектов  
- Уведомления о результатах операций
- Сообщения об ошибках пользователю

## Дата создания: 25.08.2025
## Автор: Терлецкий АВ
## Задача: GKSTCPLK-1606
