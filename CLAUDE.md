# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Обзор проекта

Это проект фреймворка для платформы 1С:Предприятие - системы автоматизации бизнеса, использующей собственный язык программирования и среду разработки.

## Разработка в 1С:Предприятие

### Структура файлов
- Файлы конфигурации: `.cf` (файл базы данных 1С)
- Внешние обработки: `.epf` 
- Внешние отчеты: `.erf`
- Модули на встроенном языке: `.bsl` (1C:Enterprise script)
- Файлы обмена: `.xml` (выгрузка/загрузка данных)
- Файлы расширений: `.cfe`

### Основные элементы языка 1С

#### Объявление переменных
```bsl
Перем ИмяПеременной;
Перем Счетчик, Сумма, Результат;
```

#### Процедуры и функции
```bsl
Процедура ВыполнитьДействие(Параметр1, Параметр2)
    // Код процедуры
КонецПроцедуры

Функция ПолучитьРезультат(Значение)
    Возврат Значение * 2;
КонецФункции
```

#### Условные операторы
```bsl
Если Условие Тогда
    // Действие
ИначеЕсли ДругоеУсловие Тогда
    // Другое действие
Иначе
    // Действие по умолчанию
КонецЕсли
```

#### Циклы
```bsl
Для Счетчик = 1 По 10 Цикл
    // Тело цикла
КонецЦикла

Пока Условие Цикл
    // Тело цикла
КонецЦикла

Для Каждого Элемент Из Коллекция Цикл
    // Обработка элемента
КонецЦикла
```

### Работа с данными

#### Запросы
```bsl
Запрос = Новый Запрос;
Запрос.Текст = "
    |ВЫБРАТЬ
    |   Товары.Наименование,
    |   Товары.Цена
    |ИЗ
    |   Справочник.Товары КАК Товары
    |ГДЕ
    |   Товары.Цена > 1000";
    
Результат = Запрос.Выполнить();
Выборка = Результат.Выбрать();
```

#### Работа с объектами метаданных
```bsl
// Создание нового элемента справочника
НовыйТовар = Справочники.Товары.СоздатьЭлемент();
НовыйТовар.Наименование = "Новый товар";
НовыйТовар.Записать();

// Создание документа
Документ = Документы.ПоступлениеТоваров.СоздатьДокумент();
Документ.Дата = ТекущаяДата();
Документ.Записать();
```

### Типовые объекты конфигурации

- **Справочники** - хранение условно-постоянной информации
- **Документы** - регистрация хозяйственных операций
- **Регистры сведений** - хранение периодической информации
- **Регистры накопления** - накопление числовых данных
- **Отчеты** - формирование отчетности
- **Обработки** - выполнение различных действий
- **Планы видов характеристик** - описание характеристик объектов
- **Планы счетов** - бухгалтерские счета

### Важные особенности платформы

- Регистронезависимый язык (ЕСЛИ = если = Если)
- Поддержка русских и английских ключевых слов
- Встроенный язык запросов (не SQL)
- Управляемые и обычные формы
- Клиент-серверная архитектура
- Механизм РЛС (разграничение доступа на уровне записей)
- Функциональные опции для управления функциональностью
- Подсистемы для логической группировки объектов

### Полезные встроенные функции

```bsl
// Работа со строками
СтрДлина(Строка)
СтрНайти(Строка, Подстрока)
СтрЗаменить(Строка, Подстрока, Замена)

// Работа с типами
ТипЗнч(Значение)
ЗначениеЗаполнено(Значение)

// Работа с датами
ТекущаяДата()
НачалоДня(Дата)
КонецМесяца(Дата)

// Сообщения пользователю
Сообщить("Текст сообщения");
Предупреждение("Текст предупреждения");
```

## Рекомендации по разработке

- Используйте типизацию параметров в процедурах и функциях
- Применяйте стандарты разработки 1С (СП, стандарты кодирования)
- Обрабатывайте исключения через Попытка...Исключение...КонецПопытки
- Используйте транзакции для обеспечения целостности данных
- Оптимизируйте запросы (индексы, виртуальные таблицы)
- Документируйте код комментариями на русском языке